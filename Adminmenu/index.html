<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ಶ್ರೀದುರ್ಗಾಪರಮೇಶ್ವರಿ ಸೇವಾಟ್ರಸ್ಟ್, ವಿಶ್ವನಾಥಪುರ(R) - Admin Menu</title>
    <style>
        .topnav {
            overflow: hidden;
            background-color: #a38200;
        }
        .topnav a, .topnav button {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 12px;
            text-decoration: none;
            font-size: 15px;
            border: none;
            background-color: transparent;
            cursor: pointer;
        }
        .topnav a:hover, .topnav button:hover {
            background-color: #ddd;
            color: black;
        }
        .topnav a.active {
            background-color: #04AA6D;
            color: white;
        }
        .topnav button {
            font-size: 16px;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f7f7f7;
        }
        label {
            font-size: 16px;
            margin-bottom: 8px;
            display: block;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 12px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #00a2c3;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .input-group {
            margin-bottom: 15px;
        }
        #yearDropdown,#maasalist {
            display: none;
        }
         #sbo {
            display: block;
        }
    </style>
    <script>
        function toggleYearDropdown() {
            var downloadOption = document.getElementById('downloadOption').value;
            var yearDropdown = document.getElementById('yearDropdown');
            var msl = document.getElementById('maasalist');
            var sl = document.getElementById('sbo');

            if (downloadOption === 'seva') {
                yearDropdown.style.display = 'block'; 
                msl.style.display = 'block';
                sl.style.display = 'none';
            } else {
                yearDropdown.style.display = 'none'; 
                 msl.style.display = 'none';
                 sl.style.display = 'block';
            }
        }

       
        function generateYearOptions() {
            var currentYear = new Date().getFullYear();  // Get current year
            var lastYear = currentYear - 1;
            var nextYear = currentYear + 1;
            
            var yearSelect = document.getElementById('year');
            
            yearSelect.innerHTML = "";

            var option1 = document.createElement("option");
            option1.value = lastYear;
            option1.text = lastYear;
            yearSelect.appendChild(option1);

            var option2 = document.createElement("option");
            option2.value = currentYear;
            option2.text = currentYear;
            yearSelect.appendChild(option2);

            var option3 = document.createElement("option");
            option3.value = nextYear;
            option3.text = nextYear;
            yearSelect.appendChild(option3);
        }

       

        function clearFormInputs() {
            setTimeout(function() {
                document.getElementById('downloadForm').reset();
            }, 10);
        }

     async function loadConfig() {
      const response = await fetch('config.json');
      const config = await response.json();
      document.getElementById('downloadForm').action = config.googleScriptUrl;
    }
    window.onload = function() {
            generateYearOptions();
            loadConfig();
        };
    </script>
</head>
<body>

<form id="downloadForm" action="" method="POST" onsubmit="clearFormInputs()">
    <h2>ಸೇವೆ ಅಥವಾ ಸದಸ್ಯತ್ವ ವಿವರ - ವೀಕ್ಷಿಸಿ/ಡೌನ್ಲೋಡ್ ಮಾಡಿ </h2>
    <input type="hidden" name="action" value="download">

    <label for="adminID">Admin ID:</label>
    <input type="text" id="adminID" name="adminID" required><br><br>

    <label for="downloadOption">ಬೇಕಾಗಿರುವ ವಿವರ ಆಯ್ಕೆ ಮಾಡಿಕೊಳ್ಳಿ:</label>
    <select id="downloadOption" name="downloadOption" required onchange="toggleYearDropdown()">
        <option value="membership">ಸದಸ್ಯತ್ವ ಲಿಸ್ಟ್</option>
        <option value="seva">ಸೇವೆ ವಿನಂತಿ</option>
    </select><br><br>

    <label for="ca">ವಿಭಾಗ :</label>
    <select id="ca" name="ca" required>
        <option value="Approved">ಅನುಮೋದಿಸಿರುವ ಪಟ್ಟಿ(Approved List)</option>
        <option value="Not Approved">ಅನುಮೋದಿಸಲಾಗಿಲ್ಲದ ಪಟ್ಟಿ 
(Not Approved List)</option>
    </select><br><br>
<div id="sbo">
        <label for="sob">ವಿಂಗಡಣೆ ಪ್ರಕಾರ :</label>
        <select id="sob" name="sob" required>
        <option value="bdb">ಜನ್ಮ ದಿನಾಂಕ  </option>
        <option value="bks">ಕುಟುಂಬ ಸ್ಥಳ 
</option>
        </select><br><br>
    </div>
    <div id="yearDropdown">
        <label for="year">ವರ್ಷ:</label>
        <select id="year" name="year" required>
        </select><br><br>
    </div>
    <div id="maasalist">
        <label for="maasa">ಮಾಸ:</label>
        <select id="maasa" name="maasa" required>
        <option value="ಎಲ್ಲಾ">ಎಲ್ಲಾ ಮಾಸ</option>
        <option value="ಚೈತ್ರ">ಚೈತ್ರ ಮಾಸ</option>
    <option value="ವೈಶಾಖ">ವೈಶಾಖ ಮಾಸ</option>
    <option value="ಜ್ಯೇಷ್ಠ">ಜ್ಯೇಷ್ಠ ಮಾಸ</option>
    <option value="ಆಷಾಢ">ಆಷಾಢ ಮಾಸ</option>
    <option value="ಶ್ರಾವಣ">ಶ್ರಾವಣ ಮಾಸ</option>
    <option value="ಭಾದ್ರಪದ">ಭಾದ್ರಪದ ಮಾಸ</option>
    <option value="ಅಶ್ವಿನ">ಅಶ್ವಿನ ಮಾಸ</option>
    <option value="ಕಾರ್ತಿಕ">ಕಾರ್ತಿಕ ಮಾಸ</option>
    <option value="ಮಾರ್ಗಶಿರ">ಮಾರ್ಗಶಿರ ಮಾಸ</option>
    <option value="ಪುಷ್ಯ">ಪುಷ್ಯ ಮಾಸ</option>
    <option value="ಮಾಘ">ಮಾಘ ಮಾಸ</option>
    <option value="ಫಾಲ್ಗುಣ">ಫಾಲ್ಗುಣ ಮಾಸ</option>
        </select><br><br>
    </div>
    <button type="submit">Get Data</button>
</form>

</body>
</html>
